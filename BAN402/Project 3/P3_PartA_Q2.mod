reset;
# =================================================================================================================
# Part A - Question 2 - Model file
# =================================================================================================================

# =================================================================================================================
# Sets
# =================================================================================================================

set I;
set w1 within I;  # Subset of weekdays within set I 
set w2 within I;  # Subset of weekend days within set I
 
# =================================================================================================================
# Parameters
# =================================================================================================================

param D{I};
param m{I};             
param cap;         
param min_demand;   
        

# =================================================================================================================
# Decision variables
# =================================================================================================================

var w1_price >= 0;   # Weekday price
var w2_price >= 0;   # Weekend price
var Q{I} >= 0;                 


# =================================================================================================================
# Objective funtion: Maximize total revenue
# =================================================================================================================

maximize TotalRevenue:
    sum{i in w1} w1_price * Q[i] +  
    sum{j in w2} w2_price * Q[j];  
   
# =================================================================================================================
# Constraints
# =================================================================================================================

# Define demand functions:
subject to Demand_Function_Modified {i in I}:
    Q[i] <= D[i] + m[i] * (if i in w1 then w1_price else w2_price) 
            + sum {j in I : j != i} 2 * ((if j in w1 then w1_price else w2_price) - (if i in w1 then w1_price else w2_price));

subject to Maximum_Demand {i in I}:
    Q[i] <= cap;

subject to Minimum_Demand {i in I}:
    Q[i] >= min_demand;
    






